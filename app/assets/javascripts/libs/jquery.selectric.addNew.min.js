/*! Selectric AddNew ÏŸ v0.2.0 (<%= date %>) - git.io/tjl9sQ - Copyright (c) <%= year %> David Shen (git.io/mhQmLQ) - MIT License */
!function(r){"function"==typeof define&&define.amd?define(["jquery"],r):"object"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),r(t),t}:r(jQuery)}(function(a){"use strict";a.fn.selectric||a.error("Selectric not initialized"),a.fn.selectricAddNew=function(l){return this.each(function(){var t=a(this).data("selectric"),r=a.extend({createNewAutoSelect:!0,createNewMarkup:'<input type="text" /><button>Create</button>',allowCreateNew:!0,createNewCallback:a.noop,createNewError:function(){a.error("Title required.")}},l),n=t.$element,e=t.elements.itemsScroll,c=a("<div/>",{class:"create-new",html:r.createNewMarkup});if(r.allowCreateNew){e.prepend(c);var o=c.find("input[type=text]"),i=c.find("button");o.add(i).on("click",function(e){e.preventDefault(),e.stopPropagation()}),i.on("click",function(){if(o.val()){var e=o.val();n.append(a("<option>",{value:e,text:e})),r.createNewAutoSelect&&n.prop("selectedIndex",n.children().length-1),t.refresh(),t.open(),r.createNewCallback.call(t.element,e),o.add(i).off("click")}else r.createNewError.call(t.element)})}})}});